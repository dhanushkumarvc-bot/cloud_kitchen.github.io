<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Hidden Ladle - Cloud Kitchen</title>
<style>
/* Basic reset */
* { margin:0; padding:0; box-sizing:border-box; }
html, body { height:100%; font-family: Arial, sans-serif; overflow:hidden; }

/* Background smoke */
body {
  background: url('https://images.unsplash.com/photo-1600891964599-f61ba0e24092?auto=format&fit=crop&w=1600&q=80') no-repeat center center fixed;
  background-size: cover;
  position: relative;
  color: #fff;
}
body::before {
  content:"";
  position:absolute; top:0; left:0; width:100%; height:100%;
  background: rgba(0,0,0,0.6); z-index:0;
}
.smoke {
  position:absolute; top:0; left:0; width:100%; height:100%; z-index:1; pointer-events:none;
  background: url('https://i.ibb.co/ZYW3VTp/smoke.png') repeat;
  opacity:0.2; animation: smokeflow 25s linear infinite;
}
@keyframes smokeflow { 0%{background-position:0 0;} 100%{background-position:0 -500px;} }

/* Nav */
nav {
  position: absolute; top: 20px; right: 30px; z-index:10;
}
#loginBtn, #profileIcon {
  background: #ff6600; color:#fff; border:none; cursor:pointer; font-weight:bold;
  padding:10px 20px; transition:0.3s; font-size:16px; border-radius:8px;
}
#loginBtn:hover, #profileIcon:hover { box-shadow:0 0 20px rgba(255,102,0,0.8); }
#profileIcon {
  display:none; width:45px; height:45px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:20px; font-weight:bold;
}

/* Center wrapper for login */
#centerWrapper { display:flex; justify-content:center; align-items:center; height:100%; width:100%; position:absolute; top:0; left:0; z-index:5; }

/* Login container */
.login-container {
  background: rgba(20,20,20,0.9); padding:40px 30px; border-radius:20px; width:350px; text-align:center;
  box-shadow:0 0 40px rgba(255,102,0,0.7); animation: float 4s ease-in-out infinite;
}
@keyframes float { 0%,100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
.login-container h2 { color:#ff6600; font-size:28px; margin-bottom:20px; }
.login-container input { width:90%; padding:12px; margin:10px 0; border-radius:8px; border:1px solid #555; background:#222; color:#fff; font-size:16px; }
.login-container input::placeholder { color:#aaa; }
.login-container button { width:95%; margin-top:20px; padding:14px; font-size:16px; border:none; border-radius:8px; background:#ff6600; color:#fff; cursor:pointer; font-weight:bold; transition:0.3s; }
.login-container button:hover { background:#e65c00; box-shadow:0 0 25px rgba(255,102,0,0.8); }

/* Hero section */
.hero { display:none; flex-direction:column; justify-content:center; align-items:center; text-align:center; height:100vh; padding:20px; background: rgba(0,0,0,0.4); z-index:2; }
.hero h1 { font-size:50px; color:#ff6600; margin-bottom:10px; text-shadow:0 0 20px rgba(255,102,0,0.8); }
.hero h2 { font-size:26px; margin-bottom:15px; text-shadow:0 0 15px rgba(255,255,255,0.5); }
.hero p { font-size:18px; max-width:600px; margin-bottom:30px; line-height:1.5; text-shadow:0 0 10px rgba(255,255,255,0.5); }
.hero a { background:#ff6600; color:#fff; text-decoration:none; padding:12px 30px; border-radius:8px; font-weight:bold; font-size:18px; transition:0.3s; }
.hero a:hover { background:#e65c00; box-shadow:0 0 30px rgba(255,102,0,0.8); }

/* Profile modal */
.profile-modal, .feedback-modal { display:none; flex-direction:column; justify-content:center; align-items:center; background: rgba(20,20,20,0.95); padding:30px; border-radius:20px; box-shadow:0 0 40px rgba(255,102,0,0.7); position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); z-index:20; text-align:center; width:300px; }
.profile-modal p { margin:5px 0; }
.profile-modal button, .feedback-modal button { width:90%; padding:12px; margin-top:10px; border:none; border-radius:8px; background:#ff6600; color:#fff; cursor:pointer; font-weight:bold; transition:0.3s; }
.profile-modal button:hover, .feedback-modal button:hover { background:#e65c00; box-shadow:0 0 25px rgba(255,102,0,0.8); }

/* Close symbol */
.profile-modal span.close { position:absolute; top:10px; right:15px; font-size:24px; cursor:pointer; }

/* Feedback */
.feedback-modal .stars { display:flex; justify-content:center; margin:10px 0; }
.feedback-modal .stars span { font-size:25px; cursor:pointer; margin:0 5px; color:#ccc; }
.feedback-modal .stars span.selected { color:#ffcc00; }
.feedback-modal textarea { width:90%; height:60px; resize:none; text-align:center; margin-top:10px; }
</style>
</head>
<body>
<div class="smoke"></div>

<nav>
  <button id="loginBtn">Login</button>
  <div id="profileIcon"></div>
</nav>

<div id="centerWrapper">
  <div class="login-container" id="loginForm">
    <h2>Welcome to The Hidden Ladle</h2>
    <input type="text" id="name" placeholder="Enter your Name">
    <input type="tel" id="phone" placeholder="Enter your Phone Number">
    <input type="email" id="email" placeholder="Enter your Email">
    <button onclick="login()">Login</button>
  </div>
</div>

<div class="hero" id="mainContent">
  <h1>The Hidden Ladle</h1>
  <h2 id="heroGreeting"></h2>
  <p id="heroMessage"></p>
  <a href="menu.html">Explore Menu</a>
</div>

<div class="profile-modal" id="profileModal">
  <span class="close" onclick="closeProfile()">Ã—</span>
  <h2>Profile</h2>
  <p id="profileName"></p>
  <p id="profilePhone"></p>
  <p id="profileEmail"></p>
  <button onclick="logout()">Logout</button>
  <button onclick="showFeedback()">Feedback</button>
</div>

<div class="feedback-modal" id="feedbackModal">
  <h2>Feedback</h2>
  <div class="stars">
    <span data-star="1">&#9733;</span>
    <span data-star="2">&#9733;</span>
    <span data-star="3">&#9733;</span>
    <span data-star="4">&#9733;</span>
    <span data-star="5">&#9733;</span>
  </div>
  <textarea id="feedbackText" maxlength="100" placeholder="Write your feedback (max 100 chars)"></textarea>
  <button onclick="submitFeedback()">Submit</button>
  <button onclick="closeFeedback()">Cancel</button>
</div>

<script>
const loginBtn = document.getElementById('loginBtn');
const profileIcon = document.getElementById('profileIcon');
const loginForm = document.getElementById('loginForm');
const mainContent = document.getElementById('mainContent');
const profileModal = document.getElementById('profileModal');
const feedbackModal = document.getElementById('feedbackModal');
let rating = 0;

// Load from localStorage
window.onload = function(){
  const name = localStorage.getItem('userName');
  const phone = localStorage.getItem('userPhone');
  const email = localStorage.getItem('userEmail');
  if(name && phone && email){ showMainPage(name, phone, email); }
}

// Toggle profile modal
profileIcon.addEventListener('click', ()=> {
  profileModal.style.display = (profileModal.style.display==='flex') ? 'none':'flex';
});

// Star rating
document.querySelectorAll('.stars span').forEach(star=>{
  star.addEventListener('click', ()=>{
    rating = star.dataset.star;
    document.querySelectorAll('.stars span').forEach(s=> s.classList.remove('selected'));
    for(let i=1;i<=rating;i++){
      document.querySelector(`.stars span[data-star="${i}"]`).classList.add('selected');
    }
  });
});

function login(){
  const name = document.getElementById('name').value.trim();
  const phone = document.getElementById('phone').value.trim();
  const email = document.getElementById('email').value.trim();
  if(!name||!phone||!email){ alert('Enter all details'); return; }
  if(!/^\d{10}$/.test(phone)){ alert('Enter valid 10-digit phone'); return; }
  if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)){ alert('Enter valid email'); return; }

  localStorage.setItem('userName', name);
  localStorage.setItem('userPhone', phone);
  localStorage.setItem('userEmail', email);
  showMainPage(name, phone, email);
}

function showMainPage(name, phone, email){
  document.getElementById('centerWrapper').style.display='none';
  mainContent.style.display='flex';
  loginBtn.style.display='none';
  profileIcon.style.display='flex';
  profileIcon.innerText = name.charAt(0).toUpperCase();

  document.getElementById('heroGreeting').innerText = `Welcome to The Hidden Ladle, ${name}!`;
  document.getElementById('heroMessage').innerText = "Thank you for choosing us, We're delighted to have you. Explore our delicious menu and enjoy your culinary journey.";

  document.getElementById('profileName').innerText = `Name: ${name}`;
  document.getElementById('profilePhone').innerText = `Phone: ${phone}`;
  document.getElementById('profileEmail').innerText = `Email: ${email}`;
}

function logout(){
  localStorage.clear();
  mainContent.style.display='none';
  profileModal.style.display='none';
  feedbackModal.style.display='none';
  profileIcon.style.display='none';
  document.getElementById('centerWrapper').style.display='flex';
  loginBtn.style.display='inline-block';
}

function showFeedback(){
  profileModal.style.display='none';
  feedbackModal.style.display='flex';
}

function closeFeedback(){
  feedbackModal.style.display='none';
  profileModal.style.display='flex';
}

function submitFeedback(){
  const text = document.getElementById('feedbackText').value.trim();
  if(rating===0){ alert('Please select star rating'); return; }
  if(!text){ alert('Please write feedback'); return; }
  alert(`Thank you for your feedback!\nRating: ${rating}\nComment: ${text}`);
  document.getElementById('feedbackText').value='';
  rating = 0;
  document.querySelectorAll('.stars span').forEach(s=>s.classList.remove('selected'));
  closeFeedback();
}

function closeProfile(){
  profileModal.style.display='none';
  mainContent.style.display='flex';
}
</script>
</body>
</html>
