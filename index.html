<body>

<nav>
  <div id="profileCircle" class="profile-circle" style="display:none;"></div>
</nav>

<!-- Floating Orbs for Premium Animation -->
<div class="floating-orbs">
  <span></span>
  <span></span>
  <span></span>
  <span></span>
  <span></span>
</div>

<div id="centerWrapper">
  <div class="login-container" id="loginForm">
    <h2>Welcome</h2>
    <input type="text" id="name" placeholder="Enter your Name" required>
    <input type="tel" id="phone" placeholder="Enter your Phone Number" required>
    <input type="email" id="email" placeholder="Enter your Email" required>
    <button onclick="login()">Login</button>
  </div>
</div>

<!-- Premium Hero Section -->
<div class="hero" id="mainContent">
  <h1>The Hidden Ladle</h1>
  <h2 id="heroGreeting"></h2>
  <p id="heroMessage"></p>
  <a href="menu.html">Explore Menu</a>
</div>

<div id="profileModal">
  <div class="modal-content">
    <span id="closeProfile" style="position:absolute; top:10px; right:15px; font-size:24px; cursor:pointer; color:#ff6600;">&times;</span>
    <h2>Your Profile</h2>
    <p id="modalName"></p>
    <p id="modalPhone"></p>
    <p id="modalEmail"></p>
    <button onclick="openFeedback()">Feedback</button>
    <button onclick="logout()">Logout</button>
  </div>
</div>

<div id="feedbackModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.85); justify-content:center; align-items:center; z-index:30; padding:10px;">
  <div style="background:#222; padding:30px 20px; border-radius:20px; max-width:400px; width:100%; text-align:center; position:relative;">
    <span onclick="closeFeedback()" style="position:absolute; top:10px; right:15px; font-size:24px; cursor:pointer; color:#ff6600;">&times;</span>
    <h2>Feedback</h2>
    <textarea id="feedbackText" placeholder="Write your feedback..." maxlength="100" style="width:90%; height:80px; margin-top:15px; padding:10px; border-radius:8px; border:1px solid #555; background:#222; color:#fff;"></textarea>
    <div style="margin:20px 0; font-size:24px;">
      <span class="star" data-value="1">&#9733;</span>
      <span class="star" data-value="2">&#9733;</span>
      <span class="star" data-value="3">&#9733;</span>
      <span class="star" data-value="4">&#9733;</span>
      <span class="star" data-value="5">&#9733;</span>
    </div>
    <button onclick="submitFeedback()">Submit</button>
  </div>
</div>

<script>
// Existing JS remains unchanged
const loginForm = document.getElementById('loginForm');
const mainContent = document.getElementById('mainContent');
const profileCircle = document.getElementById('profileCircle');
const profileModal = document.getElementById('profileModal');
const feedbackModal = document.getElementById('feedbackModal');

window.onload = function(){
  const name = localStorage.getItem('userName');
  const phone = localStorage.getItem('userPhone');
  const email = localStorage.getItem('userEmail');
  if(name && phone && email){
    showMainPage(name, phone, email);
  }
}

function login(){
  const name = document.getElementById('name').value.trim();
  const phone = document.getElementById('phone').value.trim();
  const email = document.getElementById('email').value.trim();

  if(name==="" || phone==="" || email===""){ alert("Please enter all details."); return; }
  if(!/^\d{10}$/.test(phone)){ alert("Enter valid 10-digit phone number."); return; }
  if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)){ alert("Enter valid email address."); return; }

  localStorage.setItem('userName', name);
  localStorage.setItem('userPhone', phone);
  localStorage.setItem('userEmail', email);

  showMainPage(name, phone, email);
}

function showMainPage(name, phone, email){
  loginForm.parentElement.style.display='none';
  mainContent.style.display='flex';
  
  profileCircle.style.display = 'flex';
  profileCircle.innerText = name.charAt(0).toUpperCase();

  document.getElementById('heroGreeting').innerText = `Welcome to The Hidden Ladle, ${name}!`;
  document.getElementById('heroMessage').innerText = `Thank you for choosing us, we're delighted to have you.\nExplore our delicious menu and enjoy your culinary journey.`;

  profileCircle.onclick = function(){
    document.getElementById('modalName').innerText = `Name: ${name}`;
    document.getElementById('modalPhone').innerText = `Phone: ${phone}`;
    document.getElementById('modalEmail').innerText = `Email: ${email}`;
    profileModal.style.display = 'flex';
  }
}

document.getElementById('closeProfile').onclick = function() {
  profileModal.style.display = 'none';
}

function logout(){
  localStorage.removeItem('userName');
  localStorage.removeItem('userPhone');
  localStorage.removeItem('userEmail');
  profileModal.style.display = 'none';
  mainContent.style.display = 'none';
  loginForm.parentElement.style.display='flex';
  profileCircle.style.display = 'none';
}

let selectedRating = 5;
function openFeedback(){
  feedbackModal.style.display = 'flex';
  highlightStars(selectedRating);
}
function closeFeedback(){ feedbackModal.style.display = 'none'; }
const stars = document.querySelectorAll('.star');
stars.forEach(star => {
  star.addEventListener('click', function(){
    selectedRating = parseInt(this.getAttribute('data-value'));
    highlightStars(selectedRating);
  });
});
function highlightStars(rating){
  stars.forEach(star => {
    star.style.color = (parseInt(star.getAttribute('data-value')) <= rating) ? '#ff6600' : '#555';
  });
}
function submitFeedback(){
  const text = document.getElementById('feedbackText').value.trim();
  if(text === "") { alert("Please write your feedback."); return; }
  alert(`Feedback submitted!\nRating: ${selectedRating} stars\nMessage: ${text}`);
  document.getElementById('feedbackText').value = '';
  selectedRating = 5;
  highlightStars(selectedRating);
  closeFeedback();
}
</script>
</body>
