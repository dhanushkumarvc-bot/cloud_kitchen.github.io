<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Payment - The Hidden Ladle</title>
<style>
  body {
    margin:0;
    font-family:"Segoe UI", sans-serif;
    background:#000;
    color:#fff;
    text-align:center;
  }
  .payment-container {
    max-width:500px;
    margin:50px auto;
    background: rgba(20,20,20,0.95);
    padding:40px;
    border-radius:20px;
    box-shadow:0px 8px 25px rgba(0,0,0,0.8);
  }
  h1 { color:#e63946; }
  .amount { font-size:26px; color:#00ffae; margin-bottom:20px; }
  .btn {
    background:#e63946;
    color:#fff;
    padding:12px 24px;
    border-radius:12px;
    cursor:pointer;
    font-size:16px;
    border:none;
    margin:10px;
  }
  .btn:hover { background:#c72e3c; }
  .qr-section img { width:250px; border-radius:12px; margin-top:20px; }
</style>
</head>
<body>
<div class="payment-container">
  <h1>Payment Page</h1>
  <div class="amount">Total Amount: ₹<span id="totalAmount">0</span></div>
  
  <div class="qr-section">
    <img src="https://raw.githubusercontent.com/dhanushkumarvc-bot/cloud_kitchen.github.io/refs/heads/main/scanner.jpeg" alt="UPI QR Code">
    <div class="amount">Pay ₹<span id="qrAmount">0</span></div>
  </div>

  <button class="btn" onclick="goBack()">⬅ Back to Menu</button>
  <button class="btn" onclick="shareWhatsApp()">Share Payment on WhatsApp</button>
</div>

<script>
let amount = 0;

window.onload = function() {
  amount = localStorage.getItem("cartTotal") || 0;
  document.getElementById("totalAmount").innerText = amount;
  document.getElementById("qrAmount").innerText = amount;
}

function goBack() {
  window.location.href = "menu.html";
}

function shareWhatsApp() {
  let cart = JSON.parse(localStorage.getItem("cart") || "[]"); // use same key as menu page
  let total = localStorage.getItem("cartTotal") || 0; // includes delivery
  let message = "Hello, I have completed my payment.\n\nOrder Details:\n";

  cart.forEach(item => {
    message += `- ${item.name} x ${item.quantity}: ₹${item.price * item.quantity}\n`;
  });

  message += `\nTotal (including delivery): ₹${total}\n\nI have attached the payment confirmation for your review.`;

  let phone = "918884537773"; // Your WhatsApp number
  let url = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
  window.open(url, "_blank");
}
</script>
</body>
</html>


