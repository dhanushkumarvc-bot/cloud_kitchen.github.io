<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Menu - The Hidden Ladle</title>
<style>
body { font-family: Arial, sans-serif; margin:0; padding:0; background:#111; color:#fff; }
header { text-align:center; padding:40px 20px; }
header h1 { color:#ff6600; font-size:3rem; margin:0; }
nav { display:flex; justify-content:center; gap:30px; background:#222; padding:10px 0; }
nav a { color:#fff; text-decoration:none; font-weight:500; transition:0.3s; }
nav a:hover { color:#ff6600; }
.menu { padding:40px 20px; text-align:center; }
.menu h2 { color:#ff6600; font-size:2rem; margin-bottom:20px; }
.search-filter input, .search-filter select { padding:10px 15px; margin:5px; border-radius:8px; border:none; font-size:1rem; }
.menu-items { display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:25px; margin-top:20px; position:relative; }
.item { background:#222; padding:15px; border-radius:12px; box-shadow:0 5px 15px rgba(0,0,0,0.7); transition:all 0.5s ease; opacity:1; transform:scale(1); }
.item.hide { opacity:0; transform:scale(0.95); pointer-events:none; }
.item img { width:100%; height:200px; object-fit:cover; border-radius:8px; }
.item h3 { display:flex; align-items:center; justify-content:center; gap:8px; margin:10px 0 5px; color:#ff6600; }
.dot { width:12px; height:12px; border-radius:50%; display:inline-block; }
.veg { background:green; } .nonveg { background:red; }
.item p { margin:5px 0; color:#fff; }
.order-btn { display:inline-block; margin-top:10px; padding:10px 15px; border-radius:6px; text-decoration:none; font-weight:bold; background:#ff6600; color:#fff; transition:0.3s; cursor:pointer; }
.order-btn:hover { opacity:0.8; }
#noItemsMessage { display:none; text-align:center; font-size:1.5rem; color:#ff6600; margin-top:20px; animation:bounce 0.5s ease; }
@keyframes bounce { 0%{transform:scale(0.8);opacity:0;}50%{transform:scale(1.05);opacity:1;}100%{transform:scale(1);opacity:1;} }
footer { background:#333; color:#fff; text-align:center; padding:15px; margin-top:40px; }

/* Cart Modal */
#cartModal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0, 0, 0, 0.85); justify-content:center; align-items:center; z-index:1000; }
#cartContent { background:#1e1e1e; padding:30px; border-radius:15px; width:90%; max-width:500px; color:#fff; text-align:left; box-shadow:0 10px 25px rgba(0,0,0,0.6); position:relative; }
#cartContent h3 { color:#ff6600; margin-top:0; text-align:center; }
#cartContent table { width:100%; border-collapse:collapse; margin-bottom:15px; }
#cartContent table th, #cartContent table td { padding:10px; text-align:center; border-bottom:1px solid #444; }
#cartContent table th { color:#ff6600; }
#cartContent button { background:#ff6600; color:#fff; border:none; padding:5px 10px; border-radius:8px; cursor:pointer; margin:0 3px; font-weight:bold; transition:0.3s; }
#cartContent button:hover { background:#e55c00; }
#closeCart { position:absolute; top:15px; right:20px; cursor:pointer; color:#ff6600; font-weight:bold; font-size:22px; transition:0.3s; }
#closeCart:hover { color:#e55c00; }
#totalPrice { font-size:1.2rem; text-align:right; margin-top:10px; color:#ffcc80; }
#cartContent button.checkout-btn { width:100%; margin-top:10px; padding:12px; font-size:1rem; border-radius:10px; }

/* Add Items button with no background */
.add-items-btn { 
  width:100%; 
  margin-top:15px; 
  padding:12px; 
  font-size:1rem; 
  border-radius:10px; 
  background:none; 
  color:#fff; 
  border:none; 
  cursor:pointer; 
  transition:0.3s; 
  text-decoration:underline; 
} 
.add-items-btn:hover { color:#ff6600; text-decoration:underline; }

/* Order button press animation */
@keyframes press { 0% { transform: scale(1); } 50% { transform: scale(0.9); } 100% { transform: scale(1); } }
.order-press { animation: press 0.2s ease; }

/* Floating Cart */
#floatingCart {
  position: fixed;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  background: #ff6600;
  color: #fff;
  padding: 12px 20px;
  border-radius: 30px;
  font-weight: bold;
  display: flex;
  align-items: center;
  gap: 15px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.5);
  z-index: 1001;
  cursor: pointer;
  transition: 0.3s;
}
#floatingCart:hover { opacity: 0.9; }

.view-cart-btn {
  background: #fff;
  color: #ff6600;
  border: none;
  padding: 5px 12px;
  border-radius: 15px;
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s;
}
.view-cart-btn:hover { background:#ffe0b3; }
</style>
</head>
<body>

<header>
  <h1>Our Menu</h1>
</header>

<nav>
  <a href="index.html">Home</a>
  <a href="menu.html">Menu</a>
  <a href="about.html">About Us</a>
  <a href="contact.html">Contact</a>
</nav>

<section class="menu">
  <h2>Delicious Meals</h2>
  <div class="search-filter">
    <input type="text" id="searchInput" placeholder="Search food..." onkeyup="filterItems()">
    <select id="vegFilter" onchange="filterItems()">
      <option value="all">All</option>
      <option value="veg">Veg</option>
      <option value="nonveg">Non-Veg</option>
    </select>
  </div>

  <div class="menu-items" id="menuItems">
    <!-- Menu items -->
    <div class="item" data-name="Donne Biryani" data-price="100" data-type="nonveg">
      <img src="https://raw.githubusercontent.com/dhanushkumarvc-bot/cloud_kitchen.github.io/main/Donne-Biriyani.jpg" alt="Donne Biryani">
      <h3><span class="dot nonveg"></span>Donne Biryani</h3>
      <p>Authentic Bangalore-style biryani.</p>
      <p>‚Çπ100</p>
      <a class="order-btn" onclick="addToCart(this)">Order</a>
    </div>

    <div class="item" data-name="Chicken Kebab" data-price="120" data-type="nonveg">
      <img src="https://raw.githubusercontent.com/dhanushkumarvc-bot/cloud_kitchen.github.io/main/chicken-kebab.jpg" alt="Chicken Kebab">
      <h3><span class="dot nonveg"></span>Chicken Kebab</h3>
      <p>Spicy and juicy grilled chicken.</p>
      <p>‚Çπ120</p>
      <a class="order-btn" onclick="addToCart(this)">Order</a>
    </div>

    <div class="item" data-name="Chilli Chicken" data-price="120" data-type="nonveg">
      <img src="https://raw.githubusercontent.com/dhanushkumarvc-bot/cloud_kitchen.github.io/main/chilli-chicken.jpg" alt="Chilli Chicken">
      <h3><span class="dot nonveg"></span>Chilli Chicken</h3>
      <p>Spicy Indo-Chinese chicken with chili sauce.</p>
      <p>‚Çπ120</p>
      <a class="order-btn" onclick="addToCart(this)">Order</a>
    </div>

    <div class="item" data-name="Pepper Chicken" data-price="120" data-type="nonveg">
      <img src="https://raw.githubusercontent.com/dhanushkumarvc-bot/cloud_kitchen.github.io/main/pepper-chicken.jpg" alt="Pepper Chicken">
      <h3><span class="dot nonveg"></span>Pepper Chicken</h3>
      <p>Spicy black pepper flavored chicken, served hot.</p>
      <p>‚Çπ120</p>
      <a class="order-btn" onclick="addToCart(this)">Order</a>
    </div>

    <div class="item" data-name="Mushroom Kebab" data-price="80" data-type="veg">
    <img src="https://raw.githubusercontent.com/dhanushkumarvc-bot/cloud_kitchen.github.io/refs/heads/main/mushroom-kebab.jpg" alt="Mushroom Kebab">
    <h3><span class="dot veg"></span>Mushroom Kebab</h3>
    <p>Crispy mushroom kebabs, deep-fried to perfection.</p>
    <p>‚Çπ80</p>
    <a class="order-btn" onclick="addToCart(this)">Order</a>
  </div>

  <div class="item" data-name="Veg Fried Rice" data-price="100" data-type="veg">
  <img src="https://raw.githubusercontent.com/dhanushkumarvc-bot/cloud_kitchen.github.io/refs/heads/main/Veg-Fried-Rice.jpg" alt="Veg Fried Rice">
  <h3><span class="dot veg"></span>Veg Fried Rice</h3>
  <p>Classic fried rice with fresh vegetables and aromatic spices.</p>
  <p>‚Çπ100</p>
  <a class="order-btn" onclick="addToCart(this)">Order</a>
 </div>
  </div>

  <div id="noItemsMessage">üòî No items found!</div>
</section>

<footer>
  <p>&copy; 2025 The Hidden Ladle. All rights reserved.</p>
</footer>

<!-- Floating Cart -->
<div id="floatingCart" style="display:none;">
  <span id="cartSummaryText"></span>
  <button onclick="openCart()" class="view-cart-btn">View Cart ></button>
</div>

<!-- Cart Modal -->
<div id="cartModal">
  <div id="cartContent">
    <span id="closeCart" onclick="closeCart()">‚úñ</span>
    <h3>Your Cart</h3>
    <button class="back-btn" onclick="backToFloatingCart()" style="display:none;margin-bottom:10px;">‚Üê Back</button>
    <table id="cartTable">
      <tr><th>Item</th><th>Price</th><th>Qty</th><th>Total</th></tr>
    </table>
    <p id="totalPrice">Subtotal: ‚Çπ0</p>
    <button class="checkout-btn" onclick="checkout()">Checkout</button>
    <button class="add-items-btn" onclick="redirectToMenu()">Add Items</button>
  </div>
</div>

<script>
let cart = [];
const deliveryCharges = 20;

// Load cart from localStorage on page load
window.onload = function() {
  const savedCart = localStorage.getItem('cart');
  if(savedCart) cart = JSON.parse(savedCart);
  updateCartIndicator();
};

// Save cart to localStorage
function updateCartStorage() {
  localStorage.setItem('cart', JSON.stringify(cart));
}

// Add item to cart
function addToCart(btn) {
  const itemDiv = btn.parentElement;
  const name = itemDiv.dataset.name;
  const price = parseInt(itemDiv.dataset.price);
  const existing = cart.find(i=>i.name===name);
  if(existing) existing.quantity += 1;
  else cart.push({name, price, quantity:1});

  btn.classList.remove('order-press'); void btn.offsetWidth; btn.classList.add('order-press');
  updateCartIndicator();
  updateCartStorage();
  alert(name + " added to cart!");
}

// Update floating cart
function updateCartIndicator() {
  const floatingCart = document.getElementById('floatingCart');
  const cartSummaryText = document.getElementById('cartSummaryText');
  const totalQty = cart.reduce((sum,i)=>sum+i.quantity,0);

  if(totalQty > 0){
    cartSummaryText.innerText = `${totalQty} item${totalQty>1?'s':''} added`;
    floatingCart.style.display = 'flex';
  } else {
    floatingCart.style.display = 'none';
  }
}

// Open cart modal
function openCart() {
  document.getElementById('floatingCart').style.display = 'none';
  document.querySelector('.back-btn').style.display = 'block';

  const table = document.getElementById('cartTable');
  table.innerHTML = "<tr><th>Item</th><th>Price</th><th>Qty</th><th>Total</th></tr>";
  let subtotal = 0;
  const cartModal = document.getElementById('cartModal');
  cartModal.style.display = 'flex';

  if(cart.length === 0) {
    document.getElementById('totalPrice').innerText = "Cart is empty";
    document.querySelector('.checkout-btn').style.display='none';
    document.querySelector('.add-items-btn').style.display='block';
    return;
  }

  document.querySelector('.checkout-btn').style.display='block';
  document.querySelector('.add-items-btn').style.display='block';

  cart.forEach((item,index)=>{
    const row = table.insertRow();
    row.insertCell(0).innerText = item.name;
    row.insertCell(1).innerText = "‚Çπ"+item.price;

    const qtyCell = row.insertCell(2);
    const minusBtn = document.createElement('button'); minusBtn.innerText='-';
    minusBtn.onclick = ()=>updateQuantity(index,-1);
    const qtySpan = document.createElement('span'); qtySpan.innerText=' '+item.quantity+' ';
    const plusBtn = document.createElement('button'); plusBtn.innerText='+'; plusBtn.onclick = ()=>updateQuantity(index,1);
    qtyCell.appendChild(minusBtn); qtyCell.appendChild(qtySpan); qtyCell.appendChild(plusBtn);

    const totalPerItem = item.price * item.quantity;
    row.insertCell(3).innerText = "‚Çπ"+totalPerItem;
    subtotal += totalPerItem;
  });

  const totalWithDelivery = subtotal + (subtotal>0 ? deliveryCharges : 0);
  document.getElementById('totalPrice').innerText = `Subtotal (incl. delivery ‚Çπ${subtotal>0?deliveryCharges:0}): ‚Çπ${totalWithDelivery}`;
}

// Back to floating cart
function backToFloatingCart() {
  document.getElementById('cartModal').style.display = 'none';
  document.querySelector('.back-btn').style.display = 'none';
  updateCartIndicator();
}

// Close cart
function closeCart() { 
  document.getElementById('cartModal').style.display='none'; 
  document.querySelector('.back-btn').style.display = 'none';
  updateCartIndicator(); 
}

// Checkout via WhatsApp
function checkout() {
  if(cart.length===0){ alert("Cart is empty!"); return; }
  let message = "Hello, I want to place an order:%0A";
  let subtotal = 0;
  cart.forEach(item => { message+=`${item.name} x${item.quantity} = ‚Çπ${item.price*item.quantity}%0A`; subtotal+=item.price*item.quantity; });
  const total = subtotal + deliveryCharges;
  message += `Delivery: ‚Çπ${deliveryCharges}%0ATotal: ‚Çπ${total}%0A`;
  const whatsappURL = `https://wa.me/918884537773?text=${message}`;
  window.open(whatsappURL,'_blank');

  cart=[]; 
  localStorage.removeItem('cart'); // clear cart from storage
  updateCartIndicator(); 
  closeCart();
}

// Redirect to menu
function redirectToMenu(){ 
  document.getElementById('cartModal').style.display = 'none'; 
}

// Update quantity
function updateQuantity(index, change) {
  cart[index].quantity += change;
  if(cart[index].quantity <= 0) cart.splice(index,1);
  updateCartStorage();
  updateCartIndicator();
  openCart();
}

// Search & filter items
function filterItems() {
  const searchValue = document.getElementById('searchInput').value.trim().toLowerCase();
  const vegFilter = document.getElementById('vegFilter').value;
  const menuContainer = document.getElementById('menuItems');
  const items = Array.from(menuContainer.querySelectorAll('.item')); // Convert NodeList to Array
  const noItemsMessage = document.getElementById('noItemsMessage');
  let anyVisible = false;

  // Separate matched and unmatched items
  const matchedItems = [];
  const unmatchedItems = [];

  items.forEach(item => {
    const name = item.dataset.name.toLowerCase();
    const type = item.dataset.type;
    const matchesSearch = name.includes(searchValue);
    const matchesFilter = vegFilter === 'all' || vegFilter === type;

    if (matchesSearch && matchesFilter) {
      item.classList.remove('hide');
      matchedItems.push(item);
      anyVisible = true;
    } else {
      item.classList.add('hide');
      unmatchedItems.push(item);
    }
  });

  // Re-append matched items first, then unmatched
  matchedItems.forEach(item => menuContainer.appendChild(item));
  unmatchedItems.forEach(item => menuContainer.appendChild(item));

  noItemsMessage.style.display = anyVisible ? 'none' : 'block';
}

</script>

</body>
</html>


